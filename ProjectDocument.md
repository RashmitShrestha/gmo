# The title of your game #

## Summary ##

**A paragraph-length pitch for your game.**

## Project Resources

[Web-playable version of your game.](https://itch.io/)  
[Trailor](https://youtube.com)  
[Press Kit](https://dopresskit.com/)  
[Proposal: make your own copy of the linked doc.](https://docs.google.com/document/d/1qwWCpMwKJGOLQ-rRJt8G8zisCa2XHFhv6zSWars0eWM/edit?usp=sharing)  

## Gameplay Explanation ##

**In this section, explain how the game should be played. Treat this as a manual within a game. Explaining the button mappings and the most optimal gameplay strategy is encouraged.**


**Add it here if you did work that should be factored into your grade but does not fit easily into the proscribed roles! Please include links to resources and descriptions of game-related material that does not fit into roles here.**

# External Code, Ideas, and Structure #

If your project contains code that: 1) your team did not write, and 2) does not fit cleanly into a role, please document it in this section. Please include the author of the code, where to find the code, and note which scripts, folders, or other files that comprise the external contribution. Additionally, include the license for the external code that permits you to use it. You do not need to include the license for code provided by the instruction team.

If you used tutorials or other intellectual guidance to create aspects of your project, include reference to that information as well.

Jordan - :
- Vignette Shader code from imakeshaders on Godot Shaders website [here](https://godotshaders.com/shader/vignette-2/)
- Animation Tree setup tutorial from YouTube channel [Chris' Tutorials](https://www.youtube.com/watch?v=WrMORzl3g1U)

Jonathan - :
Interactable objects in godot.[Queble](https://www.youtube.com/watch?v=pQINWFKc9_k)

Zi - Resource and citing:
game_end_screen.gd lines 27 and 31 were generated by ai. 
ProjectDocument.md my other contribution sections was written by ai.
Used this to figure out how to make tools: https://www.youtube.com/watch?v=s1dKNBBVJ_M
Used this to figure out wave stuff: https://www.youtube.com/watch?v=_1bVJSglte8

Arthur - :
Command logic taken from [HW1](https://github.com/dr-jam/CommandPatternExercise/blob/master/ElkSong/scripts/commands/command.gd)

Claire - :
[Asset Pack](https://thelazystone.itch.io/post-apocalypse-pixel-art-asset-pack)
[Health Bar Tutorial](https://youtu.be/UEJcUnq2dfU)
[Audio Manager Starter Code](https://github.com/Aarimous/AudioManager)
[Audio Manager Tutorial](https://www.youtube.com/watch?v=Egf2jgET3nQ&t=14s)


# Team Member Contributions

This section be repeated once for each team member. Each team member should provide their name and GitHub user information.

The general structures is 
```
Team Member 1
  Main Role
    Documentation for main role.
  Sub-Role
    Documentation for Sub-Role
  Other contribtions
    Documentation for contributions to the project outside of the main and sub roles.

Team Member 2
  Main Role
    Documentation for main role.
  Sub-Role
    Documentation for Sub-Role
  Other contribtions
    Documentation for contributions to the project outside of the main and sub roles.
...
```

For each team member, you shoudl work of your role and sub-role in terms of the content of the course. Please look at the role sections below for specific instructions for each role.

Below is a template for you to highlight items of your work. These provide the evidence needed for your work to be evaluated. Try to have at least four such descriptions. They will be assessed on the quality of the underlying system and how they are linked to course content. 

*Short Description* - Long description of your work item git. [link to evidence in your repository](https://github.com/dr-jam/ECS189L/edit/project-description/ProjectDocumentTemplate.md)

Here is an example:  
*Procedural Terrain* - The game's background consists of procedurally generated terrain produced with Perlin noise. The game can modify this terrain at run-time via a call to its script methods. The intent is to allow the player to modify the terrain. This system is based on the component design pattern and the procedural content generation portions of the course. [The PCG terrain generation script](https://github.com/dr-jam/CameraControlExercise/blob/513b927e87fc686fe627bf7d4ff6ff841cf34e9f/Obscura/Assets/Scripts/TerrainGenerator.cs#L6).

You should replace any **bold text** with your relevant information. Liberally use the template when necessary and appropriate.

Add additional contributions in the Other Contributions section.

# Main Roles #

- Producer (Rashmit)
- Animation and Visuals (Jordan)
- Systems Tools Engineer (Zi Zeng)
- Physics and Movement (Arthur)
- Game Logic (Jonathan)

## Producer (Rashmit, Rashura on Github)

I am the producer for the group, organizing tasks, managing meetup schedules, and overseeing the entire process!

### Github Manager - I managed our repo and dealt with merge conflicts.

I initiated the GitHub repo and started the process. In addition, I constantly oversaw the active pull requests, status of branches, and helped fixed any merge conflicts. This effort required everyone's participation and help, through making sure what will be added and what sort of merge conflicts it may cause is clearly communicated to the entire group via Discord. In addition, there were many merge conflicts as the scene files are largely autogenerated, but through careful coordination, planning, and execution, everyone was able to merge their changes seamlessly for an overall polished product!

![Github Commits](<ProjectDocument Images/github_commits.png>)


### Discord Server - I organized our main source of communication: our Discord server.

In order to ensure clear communications, the sharing of resources, and a sense of community, I started the GMO! Discord Server. This server features many chats and channels for different purposes such as tool systems, assets, game story, etc. In addition, this features the to-do list channel where the team writes down what to focus on every week, and crosses them out as objectives change and tasks become complete.

![Github Commits](<ProjectDocument Images/discord_todo.png>)

### External Communication - I communicated with other groups and the Professor

Even outside of the team, communication is extremely important: I spoke with other groups about their game and shared insights from ours, which included starting email lines between different groups during our progress report. In addition, I made sure to attend class and stayed in order to talk to the professor and TAs if need be, while making sure the feedback from the group is shared. 

### Filling In - I was there when something lacked. 

A large part of taking the lead is to be able to support everyone in their team, no matter their need. So I helped with a multitude of tasks during my time as the producer, which included helping design GUIs, implementing the skill tree, coding the combat and elemental system, and helping out with any other requests and tasks set by my team. I believe most of my time and effort was spent on this, as my focus on the and individual needs helped create a final piece that we can all be proud of!

![Filling In](<ProjectDocument Images/discord_filling_in.png>)

## Animations and Visuals (Jordan, Jordanjt4 on Github)

### Assets - I drew and animated all assets except TileMap and UI elements.

![Jordan's Assets](<ProjectDocument Images/jordan-assets.jpeg>)

This includes:
- MC Warden Gramsey (running in all directions, idle, hurt, death)
- Fruits (attack, hurt, idle, death):
  - Blueberry
  - Strawberry
  - Watermelon
  - Grape
  - Pomegranate
  - Grapes and Single Grapes
  - Cornucopia Final Boss
- Peach Tree with animation
- Main menu background
- Skill Tree background and peaches
- GMO! Logo
- the two types of seed bullets

### Visual Style
![GMO Logi](<gmo/assets/Main Menu/gmo_logo.png>)
We wanted a vibrant, cute, and fun 2D pixel style game that emphasizes visual charm while still making it intense. Warden is a chef who accidentally made sentient fruit, so I wanted his design to reflect this crazy chef who would probably blow up a kitchen given the chance (crazy eyes and dramatic coat). The fruits are all designed to look fierce while maintaining likeability, like Mario's enemies. I tried to emphasize this in their movements, facial expressions, and how they are posed in the logo.
We chose for the peach tree to be animated, to draw attention to it and remind the player that it is a crucial structure to defend.

### Animation
All animated assets were animated and previewed in my drawing program. When assetes were approved, I exported them as sprite sheets and uploaded them into Godot.
I set up animation players for all animated assets. All were created by setting the sprite sheed for that animation, adjusting h and v frames, and setting frames according to custom playback speed.
Afterwards, I set up an animation tree and drew the animation state machine. I set conditions and applicable transition constraints for each transition.

All assets have an [AnimationManagerComponent](https://github.com/RashmitShrestha/gmo/blob/4e3038445af44eb82a12f019032c73c315dc8e17/gmo/scripts/components/character_components/player_components/player_animation_manager_component.gd#L1C1-L19C78). It separates gameplay logic from animation tree system. For every character:
- Idle animation alawys plays by default
- If parent is damaged, plays hurt animation once (per damage). Since it takes a second to play the whole animation, I set it so the animation has to finish playing before playing again, otherwise it wouldn't show because the enemy is taking damage in rapid succession. 
- If enemy is attacking, plays attack animation once (per attack).

This AnimationManagerComponent makes it easy to just insert boolean updates in the main enemy scripts, and the animation will take care of itself.

Warden has a special [BlendSpace2D](https://github.com/RashmitShrestha/gmo/commit/9097a6e30d26481a5a1949c2a3c7678e9880c04e#diff-9632bb3e417d0906704663b39dbbedd9c3fd22e935f9eac465456d5ed93eaad8R1), which helps automatically determine the correct running animation to play depending on which way the character is facing.

[Death animations](https://github.com/RashmitShrestha/gmo/blob/4e3038445af44eb82a12f019032c73c315dc8e17/gmo/scripts/characters/fruit.gd#L122C1-L131C20) are played manually from the AnimationPlayer. I also had to make sure the animation fully plays before the actual death function begins, to ensure the player can visually see the animation play before the game officially considers the enemy death and turns off visibility.

## System Tools Engineer (# Zi Zeng (zkH2O))
*Wave Management System* - Implemented a complete wave based enemy spawning system using resource design patterns. The WaveManager handles wave progression, enemy group spawning with configurable patterns such as random perimeter, cluster, line, circle, spread, and dynamic difficulty scaling through enemy modifiers. The system uses a state machine ie. IDLE, SPAWNING, ACTIVE to control wave flow and tracks all spawned enemies using instance IDs to solve race conditions in detecting wave completion. [WaveManager Script](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/wave_manager.gd)

*Resource Based Data Architecture* - Created a comprehensive system using Godot's Resource classes. The classes were WaveData, EnemyStats, EnemyGroup, which allows designers to configure waves, enemies, and spawn patterns without touching code. Each resource file defines wave composition, enemy modifiers, spawn behaviors, and difficulty curves. [Wave Data Script](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/resources/wave_data.gd) | [Enemy Stats Script](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/resources/enemy_stats.gd) | [Enemy Group Script](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/resources/enemy_group.gd)

*Score and Progression System* - Built a scoring system that tracks kills, wave completions, deaths, and time played. The ScoreManager uses observer pattern through SignalBus to react to game events such as enemy deaths, wave completions, player deaths and calculates bonuses based on damage avoidance and completion speed. Implemented XP system that feeds into the skill tree progression. [Score Manager Script](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/score_manager.gd)

*Signal Based Communication Architecture* - Implemented the SignalBus singleton that provides decoupled communication between game systems. Added signals for wave events, enemy tracking, player/tree death, and health changes. [SignalBus Script](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/SignalBus.gd)

## Physics and Movement (Arthur, arthnguy and artngu on GitHub)

### Movement
All player and enemy movement was handled by me. I designed the [base classes](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/characters/character.gd) which all other behaviors derive from. It holds information which the characters will use to determine their behavior such as what to target or whether to move closer. I used [commands](https://github.com/RashmitShrestha/gmo/tree/main/gmo/scripts/commands) to implement all movement, managing which component to use using a [CommandManagerComponent](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/components/character_components/command_manager_component.gd) class. 

#### Enemy Movement
Regarding components themselves, I developed many different kinds of movements so no one fruit feels like a copy with just tweaked stats. I achieved this diversity by creating movement to reflect lightweight enemies, heavyweight enemies, and support enemies. [Blueberries](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/components/character_components/fruit_components/blueberry_components/blueberry_command_manager_component.gd) and [strawberries](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/components/character_components/fruit_components/strawberry_components/strawberry_command_manager_component.gd) are nimble and move quick, [watermelons](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/components/character_components/fruit_components/watermelon_components/watermelon_command_manager_component.gd) and [pomegranates](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/components/character_components/fruit_components/pomegranate_components/pomegranate_command_manager_component.gd) are tanky and so move slowly and must commit to their attacks, and [grapes](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/components/character_components/fruit_components/grape_components/grape_command_manager_component.gd) and [bananas](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/components/character_components/fruit_components/banana_components/banana_command_manager_component.gd) have more unconventional movement, the grape's children spreading their attention between the tree and Warden and the banana focusing on and healing/damaging the most recent character that has entered its detection area. The boss, Cornucopia, combines aggressive movement and passive movement, having attacks that cause it to [rush](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/commands/character_commands/cornucopia_commands/cornucopia_rush_command.gd) towards the player and [spawn enemies while revolving around its target](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/commands/character_commands/cornucopia_commands/cornucopia_spawn_command.gd) and movement to [reset](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/commands/character_commands/cornucopia_commands/cornucopia_retreat_command.gd) to prepare another attack. To allow for more complex movement (like the steps or the multiple attacks of the Cornucopia boss), I utilized timers heavily to determine how long a component holding some movement behavior should run for.

#### Player Movement
Warden has fairly standard movement. I use WASD to find the [direction](https://github.com/RashmitShrestha/gmo/blob/d6ea629c5685eea2fb34898722a555e3f596e82f/gmo/scripts/components/character_components/player_components/player_input_component.gd#L5) in which he's moving, which commands will use to determine where to go. He has a [dash](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/commands/character_commands/player_commands/player_dash_command.gd) that gives a burst of speed in the direction he's facing, temporarily ignoring hitboxes during the start of the dash.

### Physics
Area2Ds are used extensively in this project, being the main form of communicating damage and the environmental surroundings. 

#### Damage Detection
I made a [DamageComponent](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/components/character_components/damage_component.gd) that makes adding hitboxes incredibly straightforward, merely adding it as a child and specifying the damage. To prevent Warden from dying by taking damage every game tick, I added management for an [invulnerability state](https://github.com/RashmitShrestha/gmo/blob/04be934246b59ae3338ad292b6b36918724bcfb5/gmo/scripts/characters/character.gd#L57) which prevents hitboxes from killing Warden nearly instantaneously.

#### Collision
I altered the layers and masks of the bodies in our game to ensure the cursor, enemies, and projectiles hit and interact with what they're meant to hit. For example, enemies shouldn't be hit by their own projectiles.

## Game Logic (Jonathan, Jonathanleww on Github)

### Peach Tree interaction system

I created the interacting component system that allows you to interact and open up the skill tree screen. I also added an interacting component that displays "F to open skill tree" when in interactable range. 
[Interacting component Script](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/interacting_component.gd)
[Peach Tree Interaction](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/peach_tree.gd)

### Skill Tree system

I designed the layout of the skill tree and how it would work in game. The skill tree is the key game mechanic in the game to progress and gain skills to get stronger and defeat stronger enemies. I also wrote anad ideated all skill tree abilities and its structure for the flame, frost, and ferment abilities. I also set up the xp resource in the skill tree to be spent. Ability nodes were also designed on an "unlock-first" basis where you needed to spend xp points to get the base upgrade of a specific path before you can get the later upgrades in the skill tree.
[Skill Tree Script](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/skill_tree.gd)


### Ability tree ideation
<img width="647" height="400" alt="image" src="https://github.com/user-attachments/assets/7e6ba9de-52cc-425d-a2bd-dd7c399667f7" />



### Damage Number Popup System

I created the script to show the user how much damage the user is doing to the enemy. 
[Damage Number Script](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/ui/damage_number.gd)


### Freeze Frame Implementation

I created the Freeze Frame ability using applying it to the skill tree unlock and ability system. Freeze Frame freezes enemies in place for a certain amount of time to allow the player to easily deal damage to them.
[Freeze Frame Script](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/commands/character_commands/player_commands/freezeframe.gd)

## User Interface and World Design (Claire, clairehbear on GitHub)
My primary contributions included the main menu, the player health bar, and custom cursor, the map design, collision physics, and defining player and camera world boundaries.

### Main Menu Screen
<img width="1586" height="1055" alt="image" src="https://github.com/user-attachments/assets/19af5daa-8559-4282-a308-431b7c8574d3" />

The main menu screen involved creating a user interface scene and implementing a custom background provided by Jordan. The buttons used a [custom asset pack](https://thelazystone.itch.io/post-apocalypse-pixel-art-asset-pack) which included defined states (pressed and non-pressed).

The original buttons were 'Start,' 'Settings,' and 'Quit.' The 'Settings' button was later changed to 'How To Play,' as this seemed more useful for the player experience.

- Play button: [Linked to the main game scene](https://github.com/RashmitShrestha/gmo/blob/75cb35cbc5eb6eeabc721b0be9c632e03568b432/gmo/main_menu.gd#L9) to start the game
- Quit button: [Quits the game](https://github.com/RashmitShrestha/gmo/blob/75cb35cbc5eb6eeabc721b0be9c632e03568b432/gmo/main_menu.gd#L15) using Godot's built-in functions.

I also added keyboard shortcuts by going into the input map settings and configuring new events. This allowed the P key or Enter key to activate the 'Play' button and the Q key to activate the 'Quit' function.

<img width="455" height="267" alt="image" src="https://github.com/user-attachments/assets/a5768f4d-6c4d-4171-9bf0-35d8148841d8" />

### Health Bar
<img width="401" height="189" alt="image" src="https://github.com/user-attachments/assets/5fa634c1-7b62-4f1a-ad75-33c4fb066fb5" />

The player health bar was created using a [tutorial](https://www.youtube.com/watch?v=UEJcUnq2dfU) for guidance. The visual design incorporated assets from [this asset pack](https://thelazystone.itch.io/post-apocalypse-pixel-art-asset-pack), and the implementation was achieved using two separate nodes. The bar is composed of two distinct visual assets: a border and the health indicator.

### In Game Cursor
I implemented a custom cursor to enhance player immersion and better match the game's aesthetic. This involved editing the Project Settings and replacing the default mouse cursor with a custom asset. This feature was added later on, specifically to make sure the player's environment felt more immersive with the overall game design.

### Map Design and Implementation
<img width="650" height="693" alt="image" src="https://github.com/user-attachments/assets/2801158b-fcde-434c-8243-f838fe8beda5" />

The map was constructed using [premade assets](https://thelazystone.itch.io/post-apocalypse-pixel-art-asset-pack) sourced online. While reviewing several packs, there were discussions to find assets that could balance a pastel aesthetic (fitting the fruits) with a post-apocalyptic theme (fitting the overall game design). We finally settled on one that could achieve a balance of both.

Because this was my first time working with external assets, I encountered an issue where the sprites were not in standardized size. This prevented me from using convenient tools like auto-tiling. I had to manually resize each individual sprite because the original asset designer had not adhered to standard game dev specifications.

<img width="958" height="333" alt="image" src="https://github.com/user-attachments/assets/5b437fa3-aa15-46f9-90f6-65da7e239d4f" />

To achieve visual depth, I created many TileMapLayers. This allowed objects to overlap and created the effect of items being placed on top of one another. For example, the background trees on both the left and right sides of the map were divided into four separate TileMapLayers. This segmentation was done specifically to allow Jordan’s visual animations on these assets.

Because the game is wave-based, I designed a smaller map to encourage players to focus on quickly finding remaining enemies and prioritizing the base, rather than promoting exploration. An intersection was placed in the center to naturally draw attention to the peach tree and create distinct zones that monsters could approach from.

Unfortunately, given the nature of the project and multiple people concurrently working on the game, maintaining consistency was challenging; the player character and TileMapLayers frequently shifted, making it difficult to keep the map in its intended state.

### Collisions and World Boundaries
#### Collisions
<img width="375" height="328" alt="image" src="https://github.com/user-attachments/assets/51a0d412-7163-43ad-b86e-21166e151e4c" />

I followed documentation to manually configure collisions within the TileSet. This involved going tile by tile to define which assets had collision boundaries. I experimented with various tile combinations to ensure detailed and realistic character interaction with the environment.

Initially, I attempted to create the illusion of the player moving behind buildings. This was achieved by placing the roof on a separate TileMapLayer and editing the collision properties to allow the character to pass through it, making it look like the user was beneath it. However, due to merge conflicts from many concurrent users, this visual behavior was unfortunately lost.

After setting the collision shapes on the tiles, the properties of both the player character and the tileset itself (the collision layer and mask) had to be adjusted so that they could interact and collide with each other.

<img width="443" height="293" alt="image" src="https://github.com/user-attachments/assets/73eac460-7804-4511-8edd-cc5a43efd337" />


While the collision map was initially implemented on all buildings, consistent merge conflicts resulted in the right building losing its collision behavior, and time constraints prevented me from fixing this issue.

#### World Boundary
To control the player's movement and viewing area, I created world boundaries. For the player I created four CollisionShape2D objects to create the bounds. I added “Limits” to the camera property. Initially I could still see the outside of the map, so I played around with the zoom to prevent that.


# Sub-Roles 

- Audio (Rashmit)
- Gameplay Testing (Zi)
- Game Feel (Jordan)
- Narrative Design (Arthur)
- Narrative Design (Jonathan)
- Audio Manager (Claire)

## Audio
I created the audio system and created all the music.

For the music, I used FL Studios, a digital audio workstation, and I created all the beats using sounds that are part of free kits and the default instruments and effects that the software comes with. 

All of the musical pieces are [here!](https://github.com/RashmitShrestha/gmo/tree/main/gmo/music)

Even before producing, I mapped out and sampled different types of video game music, involving a plethora of instruments from 8bit sounds to full orchestral pieces. I landed on using airy instruments like flutes and synths in order to inspire a care-free and whimsical vibe to the music. Generally, my songs are featured in **G major** or adjacent, in order to inspire a light-hearted melody, and I found it worked well the most with the other vibes. 

In addition, this meant implementing the Audio systems into Godot and making sure the decibels are at a correct loudness, starting auto play and making sure there weren't any conflicts with the music from other scenes. 

## Gameplay Testing (Zi Zeng)
*Wave Progression Balancing* - Tested wave spawning behavior, enemy counts, and boss timing. Fixed critical bugs where waves wouldn't start correctly due to race conditions in enemy tracking. [Wave 5 Resource](https://github.com/RashmitShrestha/gmo/blob/main/gmo/resources/waves/wave_05.tres) | [Wave 10 Resource](https://github.com/RashmitShrestha/gmo/blob/main/gmo/resources/waves/wave_10.tres)

*Death and Respawn Mechanics Testing* - Tested and refined the player death/respawn system and game over conditions. Identified and fixed exploit where players could hide behind bushes after the tree died because enemies continued targeting the dead tree. Implemented proper tree death detection that triggers enemy target switching. [Fruit Targeting Script](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/characters/fruit.gd#L40-L41)

*Debug Tools Implementation* - Created debug keybinds N=next wave, K=clear enemies, R=reset, P=progress, 1-0=jump to specific waves to facilitate rapid testing iterations. Implemented comprehensive debug logging throughout the wave system to track enemy spawning, deaths, and wave state transitions. The most keys were later removed for the final build. [Current Debug Section](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/wave_manager.gd#L382-L426) | [Full Debug Implementation (with wave jump keys)](https://github.com/RashmitShrestha/gmo/blob/70f7922/gmo/scripts/wave_manager.gd#L356-L395)

## Game Feel (Jordan)

I focused on visual screen feedback with shaders.
*Health Bar* The [health bar shakes](https://github.com/RashmitShrestha/gmo/blob/e5c976f20b69b999fd87a8b62518a438c27f42dc/gmo/scripts/ui/health_bar.gd#L44C1-L62C3) when player takes damage, making damage more impactful and noticable. 

*Damage Vignette* When player health is below 20%, a [red vignette](https://github.com/RashmitShrestha/gmo/blob/e5c976f20b69b999fd87a8b62518a438c27f42dc/gmo/scripts/ui/health_bar.gd#L65C1-L72C53) is applied on screan, notifying the player that they are low health and should take more caution. 
The actual vignette shader code is from the Godot Shader website [here](https://godotshaders.com/shader/vignette-2/). I edited its opacity and strength depending on what the health is.

*Damage Shader for Warden* It was imperative that Warden had a quick and reactive damage indicator, so the animation player/tree was not enough. Also, I had only drawn a hurt animation for when he was idle, and I quickly realized this was not ideal because he had a bunch of different animations that he could be in when he gets hit. I used self modulate to quickly tint his original color by [red](https://github.com/RashmitShrestha/gmo/blob/e5c976f20b69b999fd87a8b62518a438c27f42dc/gmo/scripts/characters/warden.gd#L186C2-L188C42) no matter what state he was in, and he would always turn red upon impact.

*Cursor* The cursor [changes](https://github.com/RashmitShrestha/gmo/blob/0b78e66ce5507b6459ef47e1d31f162770678d49/gmo/scenes/cursor_manager.gd#L1) when you go into attack mode, so the player immediately knows if they are holding down the correct button to be able to slice down enemies. 

I also introduced visual feedback in sprites as well. I drew unlocked, ready to unlock, and unlocked peaches for the skill tree menu, so the player can instantly see which nodes they can unlock by color alone.

## Narrative Design (Arthur)

I co-created our narrative and incorporated it into the core gameplay loop (skill tree and abilities handled by others)
*Enemy logic* - In the story, the Cornucopia is the big bad and all problems come from it. Based on this, I designed all the basic fruits to be diverse so they perfectly complement each other to express their interconnected organization. As the Cornucopia is where these fruits come from in the narrative, one of its attacks is where it spawns fruits which communicate its role in the story.

*Method of attack* - As Warden is a chef, his method of attack to be from slashing. To heavily emphasize his slashing, I coded the damage system to revolve around the [cursor](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/cursor.gd). Damage is dealt by dragging the cursor across enemies, the damage dealt being dependent on the velocity and all other modifiers based on the peach tree.

*Respawning* - In the story, the peach tree is able to revive Warden as long as the peach tree is up. I incorporated [respawning](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/commands/character_commands/player_commands/player_died_command.gd) in the game, so as long as the peach tree is alive, Warden can respawn.

## Narrative Design (Jonathan)

I came up with the narrative which influenced the game mechanics.

### How to play

The how to play is on the title screen. After you click the middle button it takes you to a page that explains the game's lore, mechanics, keybinds, and tips. 

[How to Play Script](https://github.com/RashmitShrestha/gmo/blob/main/gmo/how_to_play.gd)

## Audio Manager (Claire)
My secondary role became creating the Audio Manager due to team priorities. Since our producer, Rash, was busy with their primary role, we determined that the audio manager was a more important task overall compared to the presskit and trailer. My main responsibility in this sub-role was to take the required audio cues and integrate them into the game.

### Implementation Process
To handle audio, I created an AudioManager [class](https://github.com/RashmitShrestha/gmo/blob/39e0cf9d3af0f23ba79c83621943b86659ee1b0d/gmo/scripts/audio_manager.gd) and scene. I used an online [skeleton code](https://github.com/Aarimous/AudioManager) and [tutorial](https://www.youtube.com/watch?v=Egf2jgET3nQ&t=14s) as a base for both the AudioManager and the SoundEffect scripts.

I first created dedicated sound effect resources using the raw audio files provided in [resources/sound_effects](https://github.com/RashmitShrestha/gmo/tree/main/gmo/resources/sound_effects). These sound effect resources were then loaded into the AudioManager scene/node.

<img width="454" height="619" alt="image" src="https://github.com/user-attachments/assets/988ba039-2154-4faa-afa5-2a3f290570f4" />

The AudioManager was then configured as a global autoload, meaning that any script within the project could call on it.

<img width="1164" height="212" alt="image" src="https://github.com/user-attachments/assets/e6e35e24-c1a6-4511-9fe0-49b99416612e" />

The AudioManager uses an enum within the [SoundEffect](https://github.com/RashmitShrestha/gmo/blob/39e0cf9d3af0f23ba79c83621943b86659ee1b0d/gmo/scripts/resources/sound_effect.gd) to determine the effect type, which determines when it should be played. This is also used to allow the manager to [randomly select a specific effect](https://github.com/RashmitShrestha/gmo/blob/39e0cf9d3af0f23ba79c83621943b86659ee1b0d/gmo/scripts/audio_manager.gd#L65) from a selection when multiple sounds are provided.

### Audio Events
The functions within the AudioManager were called from [functions within various game scripts](https://github.com/RashmitShrestha/gmo/blob/39e0cf9d3af0f23ba79c83621943b86659ee1b0d/gmo/scripts/cursor.gd#L30) to trigger sound effects based on gameplay events:
- A sword sound when damage is inflicted.
- A random damage sound played when the player character is hit.
- A random death sound played upon player character defeat.
- A random start sound played when a new enemy wave begins.
- A random victory sound played when an enemy wave is successfully cleared.


## Other Contributions ##

### Zi Zeng:
  *Enemy AI Targeting System* - Implemented dynamic target switching for enemy AI where fruits attack the peach tree by default but intelligently switch to the warden if the tree is destroyed. Added tree death detection that prevents enemies from attacking dead structures, fixing a gameplay exploit. This required careful integration with the signal system to respond to tree death events. [Fruit AI Logic](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/characters/fruit.gd#L40-L41) | [Tree Death System](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/peach_tree.gd#L21-L38)

  *Game End Screen and Victory/Defeat UI* - Created the end game screen that displays comprehensive statistics including score breakdown, deaths, wave reached, and time played. Implemented conditional display for victory vs defeat states with appropriate color coding and messaging. Integrated with ScoreManager to pull real-time game statistics. [Game End Screen Script](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scenes/ui/game_end_screen.gd)

  *Wave Messaging System* - Built the wave announcement UI that displays "WAVE X STARTING!" and "WAVE X CLEARED!" messages with fade-in/fade-out animations using Godot's Tween system. Added special boss announcement for wave 10. This provides crucial player feedback about game state progression. [Wave Message Script](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/ui/wave_message.gd)

  *Boss Spawn System Integration* - Implemented the Cornucopia boss spawn mechanics including delayed spawning, tracking of boss-spawned child enemies (babies), and victory condition detection when boss and all spawned enemies are defeated. Added proper boss defeated flag tracking to prevent duplicate spawns and correctly trigger game completion. [Boss Spawn Logic](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/wave_manager.gd#L135-L141) | [Cornucopia Spawn Command](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/commands/character_commands/cornucopia_commands/cornucopia_spawn_command.gd)

  *Peach Tree Core Mechanics* - Implemented proper death behavior that disables collision, makes the tree invulnerable, and broadcasts tree death signals to update enemy targeting across all active fruits. [Peach Tree Script](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/peach_tree.gd)

  *Player Respawn System* - Implemented warden conditional respawning that checks if the tree is still alive (game over if tree is dead). [Player Died Command](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/commands/character_commands/player_commands/player_died_command.gd)

  *XP and Skill Progression System* - Designed and implemented the experience point earning system that rewards players for kills, wave completions, and performance bonuses (damage avoidance, speed). XP feeds into the skill tree system, enabling player progression and upgrade unlocks. Calculated bonus XP for flawless play and efficient wave clearing to encourage skillful gameplay. This system adds long-term progression and replayability to the wave-based combat. [XP System in ScoreManager](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/score_manager.gd#L221-L283)

  *Spawn Point System* - Created a perimeter-based spawn system with 8+ spawn markers positioned on map edges to ensure enemies appear from off-screen. Integrated spawn point discovery into WaveManager to support multiple spawn patterns (spread, cluster, line formations). This prevents enemies from spawning on top of the player and creates more natural wave encounters. [Spawn Point Logic](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/wave_manager.gd#L71-L82) | [Spawn Position Calculation](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/wave_manager.gd#L246-L294)

  *Wave Content Design and Balancing* - Designed and configured all 10 waves using the resource system, balancing enemy counts, spawn patterns, difficulty modifiers, and completion bonuses. Structured wave progression from simple starter waves (blueberries) to complex multi-group challenges with elemental modifiers. Added boss waves at wave 5 and 10 with special mechanics. Each wave is tuned for escalating difficulty while maintaining fairness. [All Wave Resources](https://github.com/RashmitShrestha/gmo/tree/main/gmo/resources/waves)

  *Enemy Stats and Configuration* - Created and balanced stats for all 8 enemy types (Blueberry, Strawberry, Banana, Grape, Pomegranate, Watermelon, Cornucopia boss, and Grape Split) using the EnemyStats resource system. Defined health values, damage outputs, movement speeds, attack patterns, and score values for each enemy type. This data-driven approach allows for easy balancing without code changes. [All Enemy Resources](https://github.com/RashmitShrestha/gmo/tree/main/gmo/resources/enemies)

  *Pause Menu System* - Designed and implemented a complete pause menu system with multiple screens including main pause menu, settings menu, and help/tutorial screen. The pause menu allows players to quit to main menu, view controls and gameplay instructions, and resume play. Integrated pause functionality with Godot's scene tree pausing system to freeze gameplay while maintaining UI responsiveness. Added signal-based navigation between pause menu screens for clean state management. [Pause Menu Script](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/pause_menu.gd) | [Pause Menu Scene](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scenes/ui/pause_menu.tscn)

  *Audio Production and Recording* - Self-recorded and produced three custom audio effects for key game moments: victory sound, defeat sound, and skill purchase sound. Used audio recording and editing to create distinct, satisfying audio feedback for player actions. Integrated these audio files into the game end screen (victory/defeat) and skill tree (purchase confirmation), enhancing player feedback and game feel. The audio adds emotional weight to winning/losing and makes skill purchases feel rewarding. [Victory/Defeat Audio Integration](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scenes/ui/game_end_screen.gd#L12-L13) | [Purchase Sound Integration](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/skill_tree.gd#L101-L102) | [Audio Files](https://github.com/RashmitShrestha/gmo/tree/main/gmo/audio)

### Arthur
  *Knockback* - Added [knockback](https://github.com/RashmitShrestha/gmo/blob/main/gmo/scripts/commands/character_commands/knockback_command.gd) to the enemies and Warden to add more "oomph" to the attacks, adding to game juice and feel.

  *Invulnerability blinker* - Whenever damaged or respawning, a [blinking effect](https://github.com/RashmitShrestha/gmo/blob/6db497439bc9d0d4195d60ce0a771e0a6d963408/gmo/scripts/characters/warden.gd#L169) to Warden to is played, indicating he is currently unable to be damaged, aiding usability by communicating invulnerability purely from visuals.

  *Health damage indicator* - After taking damage, instead of the health bar simply dropping to the new health, there's a [second health bar](https://github.com/RashmitShrestha/gmo/blob/6db497439bc9d0d4195d60ce0a771e0a6d963408/gmo/scripts/ui/health_bar.gd#L41) that falls down to the new health, reducing the jarring effect of seeing the health jump and allowing the user to see how much damage they actually took visually.

  *Component system* - I added a [component system](https://github.com/RashmitShrestha/gmo/tree/main/gmo/scripts/components) to allow my team to plug in functionality quickly without creating monoliths.
  
  *Damage system* - The DamageComponent and [GameCharacter](https://github.com/RashmitShrestha/gmo/blob/39e0cf9d3af0f23ba79c83621943b86659ee1b0d/gmo/scripts/characters/character.gd#L56) classes work with one another to store and deliver information about health

### Claire
I implemented the assets for several fruits and the player character. Because the player character and fruit assets had different resolutions, Godot's default scaling behavior made the sprites appear blurry. To fix this, I used Godot documentation and external guides to adjust the resource settings. This allowed me to appropriately scale the resources within the engine, and prevented the blurriness.
